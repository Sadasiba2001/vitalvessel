{% extends 'BBMS_APP/admin/admin_base.html' %}
{% block title %}Home - My Website{% endblock %}

{% block content %}
<!-- Main Content -->
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
    <!-- Table -->
    <form method="post" action="{% url 'AdminDonorDetailsPage' %}" autocomplete="off">
        {% csrf_token %}
        <h1 class="mt-5 text-white d-flex justify-content-between align-items-center bt">
            User Blood Order History Records
        </h1>
        <div class="table-responsive">
            <table class="table table-bordered table-hover table-danger-border table-sm">
                <thead class="text-white thead-dark">
                    <tr class="border">
                        <th class="border">ID</th>
                        <th class="border">Name</th>
                        <th class="border">Email</th>
                        <th class="border">Phone Number</th>
                        <th class="border">Blood Group</th>
                        <th class="border">Packets</th>
                        <th class="border">Price</th>
                        <th class="border">District</th>
                        <th class="border">Address</th>
                        <th class="border">Order Date & Time</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Placeholder for table body content -->
                    {% for i in history reversed %}
                    <tr class="text-white">
                        <!-- Field for ID -->
                        <td>{{ i.order_id }}</td>
                        <!-- Input field for name -->
                        <td>{{ i.name }}</td>
                        <!-- Field for Email -->
                        <td>{{ i.email }}</td>
                        <!-- Field for Phone Number -->
                        <td>{{ i.phone }}</td>
                        <!-- field for blood group -->
                        <td>{{ i.blood_group }}</td>
                        <!-- field for number of packets -->
                        <td>{{ i.packets }}</td>
                        <!-- field for price -->
                        <td>{{ i.amount }}</td>
                        <!-- Input field for district -->
                        <td>{{ i.district }}</td>
                        <!-- Input field for address -->
                        <td>{{ i.address }}</td>
                        <!-- Field for Registration date -->
                        <td>{{ i.order_date }}</td>
                        <!-- Field for status -->
                        <td>{{ i.status }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </form>
</main>
<!-- Main Content Ends Here-->
<!-- Success/ Error Message -->
{% if messages %}
<div class="col-md-9 offset-md-3">
    {% for message in messages %}
    {% if 'records_delete' in message.tags %}
    <div class="email-success-message">
        <div class="alert alert-success" role="alert">
            {{ message }}
        </div>
    </div>
    {% endif %}
    {% if 'record_update' in message.tags %}
    <div class="email-success-message">
        <div class="alert alert-success" role="alert">
            {{ message }}
        </div>
    </div>
    {% endif %}
    {% if 'success_message' in message.tags %}
    <div class="email-success-message">
        <div class="alert alert-success" role="alert">
            {{ message }}
        </div>
    </div>
    {% endif %}
    {% if 'no_record_delete' in message.tags %}
    <div class="email-error-message">
        <div class="alert alert-danger" role="alert">
            {{ message }}
        </div>
    </div>
    {% endif %}
    {% if 'user_login_error' in message.tags %}
    <div class="email-error-message">
        <div class="alert alert-danger" role="alert">
            {{ message }}
        </div>
    </div>
    {% endif %}
    {% if 'donor_login_error' in message.tags %}
    <div class="email-error-message">
        <div class="alert alert-danger" role="alert">
            {{ message }}
        </div>
    </div>
    {% endif %}
    {% endfor %}
</div>
{% endif %}
<!-- Success/ Error Message -->
{% endblock %}