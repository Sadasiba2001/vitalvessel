{% extends 'BBMS_APP/admin/admin_base.html' %}
{% block title %}Home - My Website{% endblock %}

{% block content %}
    <!-- Main Content -->
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
        <!-- Table -->
        <form method="post" action="{% url 'AdminDonorDetailsPage' %}" autocomplete="off">
            {% csrf_token %}
            <h1 class="mt-5 text-white d-flex justify-content-between align-items-center bt">
                Donor Details
                <button type="submit" name="delete" class="btn btn-danger">Delete</button>
            </h1>
            <div class="table-responsive">
                <table class="table table-bordered table-hover table-danger-border table-sm">
                    <thead class="text-white thead-dark">
                        <tr class="border">
                            <th class="border">Select</th>
                            <th class="border">ID</th>
                            <th class="border">Name</th>
                            <th class="border">Email</th>
                            <th class="border">Phone Number</th>
                            <th class="border">Gender</th>
                            <th class="border">Blood Group</th>
                            <th class="border">Address</th>
                            <th class="border">Registration Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <form method="post" action="{% url 'AdminDonorDetailsPage' %}" autocomplete="off">
                            {% csrf_token %}
                            <!-- Placeholder for table body content -->
                            {% for donor in donors %}
                            <tr class="text-white">
                                <!-- Field for checkbox -->
                                <td><input type="checkbox" value="{{ donor.donor_id }}" name="selected_records"></td>
                                <!-- Field for ID -->
                                <td>{{ donor.donor_id }}</td>
                                <!-- Input field for name -->
                                <td>{{ donor.name }}</td>
                                <!-- Field for Email -->
                                <td>{{ donor.email }}</td>
                                <!-- Field for Phone Number -->
                                <td>{{ donor.phone }}</td>
                                <!-- Input field for gender -->
                                <td>{{ donor.gender }}</td>
                                <!-- Input field for blood group -->
                                <td>{{ donor.blood_group }}</td>
                                <!-- Input field for address -->
                                <td>{{ donor.address }}</td>
                                <!-- Field for Registration date -->
                                <td>{{ donor.created }}</td>
                                <!-- Field for Update button -->
                            </tr>
                            {% endfor %}
                        </form>
                    </tbody>
                </table>
            </div>
        </form>
    </main>
    <!-- Main Content Ends Here-->
    <!-- Success/ Error Message -->
    {% if messages %}
    <div class="col-md-9 offset-md-3">
        {% for message in messages %}
            {% if 'records_delete' in message.tags %}
            <div class="email-success-message">
                <div class="alert alert-success" role="alert">
                    {{ message }}
                </div>
            </div>
            {% endif %}
            {% if 'record_update' in message.tags %}
            <div class="email-success-message">
                <div class="alert alert-success" role="alert">
                    {{ message }}
                </div>
            </div>
            {% endif %}
            {% if 'success_message' in message.tags %}
            <div class="email-success-message">
                <div class="alert alert-success" role="alert">
                    {{ message }}
                </div>
            </div>
            {% endif %}
            {% if 'no_record_delete' in message.tags %}
            <div class="email-error-message">
                <div class="alert alert-danger" role="alert">
                    {{ message }}
                </div>
            </div>
            {% endif %}
            {% if 'user_login_error' in message.tags %}
            <div class="email-error-message">
                <div class="alert alert-danger" role="alert">
                    {{ message }}
                </div>
            </div>
            {% endif %}
            {% if 'donor_login_error' in message.tags %}
            <div class="email-error-message">
                <div class="alert alert-danger" role="alert">
                    {{ message }}
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
    {% endif %}
    <!-- Success/ Error Message -->
{% endblock %}
